import{M as t}from"../app.4d69d5d4.js";function e(t){return t.split("\n").map((t=>t.trim()?`  ${t}`:t)).join("\n")}function n(t,e=2){return t.split("\n").map((t=>t.replace(1===e?/^\s{2}/:/^\s{4}/,""))).join("\n")}function s(t,e,n){for(const s in t){const i=t[s];if("description.txt"!==s&&"description.md"!==s&&"_hint"!==s)if("string"==typeof i)e[s]=i;else{const{"template.html":t,"composition.js":e,"options.js":p,"style.css":o}=i;n(s,{template:t,composition:e,options:p,style:o})}}}function i(t,i){const p={};return s(t,p,((s,{template:o,composition:r,options:c,style:l})=>{const a=t["description.txt"];let m=a&&"App"===s?`\x3c!--\n${a.trim()}\n--\x3e\n\n`:"";i&&r&&(m+=`<script setup>\n${function(t,e){const s=t.indexOf("export default"),i=t.lastIndexOf("return {");let p=i>-1?n(t.slice(s,i).replace(/export default[^]+?setup\([^)]*\)\s*{/,"").trim()):"";const o=t.indexOf("\n  props:");if(o>-1){const s=t.indexOf("\n  }",o)+4,i=/\bprops\b/.test(e)||/\bprops\b/.test(t)?"const props = ":"";p=(n(t.slice(o,s).trim().replace(/,$/,"").replace(/^props: /,`${i}defineProps(`)+")",1)+"\n\n"+p).trim()}const r=t.indexOf("\n  emits:");if(r>-1){const e=t.indexOf("]",r)+1;p=(t.slice(r,e).trim().replace(/,$/,"").replace(/^emits: /,"const emit = defineEmits(")+")\n\n"+p).trim()}const c=t.slice(0,s)+p;return(p?c:c.trim())+"\n"}(r,o)}<\/script>\n\n`),!i&&c&&(m+=`<script>\n${c}<\/script>\n\n`),m+=`<template>\n${e(o)}</template>`,l&&(m+=`\n\n<style>\n${l}</style>`),p[s+".vue"]=m})),p}function p(t,n){const i={},p=t["description.txt"];let o=p?`\x3c!--\n${p.trim()}\n--\x3e\n\n`:"",r="";return i["index.html"]=o,s(t,i,((t,{template:s,composition:p,options:c,style:l})=>{let a=(n?p:c)||"";a=a.replace(/import (.*) from '(.*)\.vue'/g,"import $1 from '$2.js'");const m=e((f=s,f.replace(/(<\/?)([A-Z]\w+)(\s|>)/g,((t,e,n,s)=>e+n.replace(/\B([A-Z])/g,"-$1").toLowerCase()+s)).replace(/<([\w-]+)([^/]*?)\s?\/>/g,((t,e,n)=>`<${e}${n}></${e}>`))).trim());var f;l&&(r+=l),"App"===t?(a&&(o+=`<script type="module">\n${function(t){const e=/import {(.*?)} from 'vue'/;if(e.test(t))t=t.replace(e,"import { createApp,$1} from 'vue'");else{const e=t.startsWith("import")?"\n":"\n\n";t=`import { createApp } from 'vue'${e}${t}`}return t.replace(/export default ({[^]*\n})/,"createApp($1).mount('#app')")}(a)}<\/script>\n\n`),o+=`<div id="app">\n${m}\n</div>`):(a=a?a.replace(/export default \{([^]*)\n\}/,`export default {$1,\n  template: \`\n${m}\n  \`\n}`):`export default {\n  template: \`\n${m}\n  \`\n}`,i[t+".js"]=a)})),i["index.html"]=o,r&&(i["style.css"]=r),i}function o(e){window.addEventListener("hashchange",e),t((()=>{window.removeEventListener("hashchange",e)}))}export{p as a,o,i as r};
