---
title: "计算机组成原理"
date: 2016-09-04 14:53:15
tags:
toc: true
---

## 计算机系统概论

计算机功能主要是运算，一定要有运算器。做哪种运算需要控制器来控制，指令和数据都需要存储，数据需要输入和输出出来让人看懂。


冯诺伊曼计算机特点：

1. 计算机由5大部分组成
2. 指令和数据以同等地位存于存储器，按地址访问
3. 指定和数据用二进制表示
4. 指令由操作码（具体要做什么操作）和地址码（参加运算的数据地址）组成
5. 存储程序
6. 以运算器为中心

组成：

- 输入设备
- 输出设备
- 控制器：取出程序分析指令 ALU
- 运算器：运算 CU
- 存储器: 存储指令和数据

CPU

寄存器ACC

改进

1. 以存储器为中心。

2. 现代计算机
![](./1/2.png)


系统复杂性管理的方法:3Y
- 层次化(Hierachy): 将被设计的系统划分为多个模块或子模块。
- 模块化(Modularity): 有明确定义的功能和接口。
- 规则性(regularity): 模块更容易被重用。即生产时需要符合行业标准，如数据线的USB口都是一样的。


![](./1/3.png)

存储器的基本组成

指令、数据保存到存储器中，并可以取出指令、数据。

![](./1/5.png)

- 存储体 - 存储单元 - 存储元件(0/1)
  大楼    房间        床位 (无人/有人)

存储单元：存放一串二进制代码，即存放一个存储字的所有存储元集合。
存储字：存储单元中二进制代码的组合
存储字长：存储单元中二进制代码的位数
每个存储单元赋予一个地址，按地址寻址

MAR：存储器地址寄存器，保存存储单元的地址或编号。
MDR：存储器数据寄存器，反映存储字长

如MAR = 4位，则存储单元是16个
MDR= 8位，则存储字长为8

### 运算器

### 控制器

- 解释指令
- 保证指令按顺序执行

完成一条执行
取指令: PC(program counter程序计数器)，存放当前将要执行指令的地址，具有计数功能(PC)+1->PC
分析指令: IR(instructinon register指令寄存器),存放当前欲执行的指令
执行指令: CU（控制单元）

控制器的组成
![](./1/7.png)

运算器、控制器、存储器构成了主机。

主机完成一条指令的过程：
以取数指令为例

## 计算机运算方法

### 无符号数和有符号数

无符号数只有数字，没有符号。首先将它变成二进制，然后用寄存器保存。寄存器的位数反应无符号数的表示范围。8位就是 0 -255，16位就是0-65535。

有符号数: 计算机
- 机器数: 符号数字化的数，保存在机器中的数
- 真值: 带符号的数，实际的数

+0.1011 需要保存符号、小数点位置、小数。小数直接存在寄存器中。
-0.1011

计算机没有专门保存小数点。它的位置是约定的。定点计算机，就是约定小数点位置固定在计算机的某个位置。将点约定在最高位，是整数定点，约定在最低位数小树定点。

原码表示法：用逗号将符号位和数值分开，带符号的绝对值，符号被机器化了

整数 区间是 (-2^n , 2^n)
x=+1110 -> x原=0,1110   
x=-1110 -> x原= 2^4+1110 = 1,1110

小数 区间是(-1,1)
x=+0.1101 -> x原=0.1101  // 后面的0表示符号，和前面数的0意义不同
x=-0.1101 -> x原= 1-(-0.1101) = 1.1101  符号位 + 小数部分

x原=1.0011 -> x = -0.0011
x原=1,1100 -> x = -1100
x原=0.1101 -> x = +0.1101

x=0的原码 -> 有正负，整数小数表示 
[+0.0000]x原 = 0.0000 
[-0.0000]x原 = 1.0000
[+0]x原 = 0,0000 
[-0]x原 = 1,0000

原码运算的时候有问题。比如 正

补码表示法：解决加减运算归一化的问题。

比如时钟：要从6点调整到3点，有2种方法：

- 6 - 3 = 3
- 6 + 9 = 15 % 12(模) = 3  

所以说-3 和 +9 能够得到相同的结果，-3 = +9。

有模的设备就可以将减法变成加法操作。

负数 + 模 = 该负数的补数
正数和负数互为补数，它们的绝对值之和就是模数

比如4位计数器(模16)
1011 要变成 0000
1011 - 1011 = 0000 或者 1011 + 0101 = 10000 前面的1会自动去掉，所以 -1011 可以用 0101 代理

求-1010 的补数 0110
10000
-1010
=0110

正数的补数是其本身。比如 3 + 12 = 15 % 12 = 3。

x=+1010 -> x补 = 0,1010


反码表示法：

移码表示法：

