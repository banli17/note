---
        title: 无名
        ---
        # QR Code教程


目录
- 简介
- 数据分析
- 数据编码
- 错误处理


## 简介

QR码是一种特殊类型的条形码，可以编码像数字，字母和汉字字符等信息。 本教程是为希望学习如何编码QR码的程序员编写的。 编码过程很复杂，特别是在生成纠错码这一步。 

QR码是由日本丰田的子公司Denso-Wave在1994年创造。这个标准定义在[ISO/IEC 18004:2006](https://www.iso.org/standard/43655.html)中。它采用了免费许可证。

最小的QR码是21x21像素，最大的是177x177。 大小又称为版本。21x21像素大小是版本1，25x25是版本2，依此类推。177x177大小是版本40，每个版本长宽各增加4个像素。所以版本和长宽的计算公司是：

```
width = height = 21 + (version-1) *4
```

此外，QR码还包括容错级别：当您对QR码进行编码时，您还可以创建一些冗余数据，这样当QR码缺少了一部分时，它可以帮助QR识别器准确读取代码。这就是为什么有些二维码中间可以放个人头像，而有些二维码中间缺了一部分依然可以识别的原因。

有四个容错级别可以选择。分别是：
- L：最大7%数据不可读
- M：最大15%数据不可读
- Q：最大25%数据不可读
- H：最大30%数据不可读

当不可读数据在上面容错范围内时，二维码还是可以识别的。如果超出了容错范围，则不能识别。

QR码的容量取决于版本和容错级别，以及您正在编码的数据类型。QR码可以编码四种数据格式：数字，字母，8位字节（二进制）或汉字(kanji:日文汉字，中文也可以)。最大的容量如下：

- 数字：7089个
- 字母：4296个
- 8位字节（二进制）：2953个
- 汉字：1817个

## 生成QR码的步骤

1. 数据分析

QR码可以编码一串文本。编码模式有四种:

- 数字模式：0-9
- 字母数字模式：0-9，大写字母(非小写)，符号$,%,*,+,-,/,.,:和空格。具体看[这里](https://www.thonky.com/qr-code-tutorial/alphanumeric-table)
- 字节模式：默认是ISO-8859-1字符集，但是有些QR识别器可以检测出里面的UTF-8字符。
- 汉字模式：是双字节字符，和utf-8相关。

有些二维码识别器在使用了字节模式下可以检测是否使用了utf8码，但是这些字符不能正确显示。为了解决这个问题，可以使用ECI模式

2. 数据编码

3. 纠错编码

4. 结构化最终信息

5. 将模块放在矩阵中

6. 掩码

7. 格式和版本信息














































